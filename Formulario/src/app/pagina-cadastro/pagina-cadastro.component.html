<app-header [titleT]="title"></app-header>
<main class="cadastro-container-x">
   
        <form class="cadastro-container-y" [formGroup]="formulario" (ngSubmit)="onSubmit()">
            <section class="nome-sobrenome" [ngClass]="{'is-desktop': isDektop}">
                <mat-form-field class="nome">
                    <mat-label>Nome</mat-label>
                    <input matInput id="nome" formControlName="nome">
                </mat-form-field>
                <mat-form-field class="sobrenome">
                    <mat-label>Sobrenome</mat-label>
                    <input matInput id="sobrenome" formControlName="sobrenome">
                </mat-form-field>
            </section>
            <mat-form-field class="datanascimento" [ngClass]="{'is-desktop': isDektop}">
                <mat-label>Data de Nascimento</mat-label>
                <input matInput [matDatepicker]="picker" id="datanascimento" formControlName="datanascimento">
                <mat-hint>DD/MM/YYYY</mat-hint>
                <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
            <mat-form-field class="email" [ngClass]="{'is-desktop': isDektop}">
                <mat-label>Email</mat-label>
                <input type="email" matInput id="email" formControlName="email" [formControl]="emailFormControl" [errorStateMatcher]="matcher"
                    placeholder="Ex. pat@example.com">
                @if (emailFormControl.hasError('email') && !emailFormControl.hasError('required')) {
                    <mat-error>Please enter a valid email address</mat-error>
                }
                @if (emailFormControl.hasError('required')) {
                    <mat-error>Email is <strong>required</strong></mat-error>
                }
            </mat-form-field>

            <section class="logradouro-numerorua" [ngClass]="{'is-desktop': isDektop}">
                <mat-form-field class="logradouro">
                    <mat-label>Logradouro</mat-label>
                    <input matInput id="logradouro" formControlName="logradouro">
                </mat-form-field>
                <mat-form-field class="numerorua">
                    <mat-label>Numero</mat-label>
                    <input matInput id="numerologradouro" formControlName="numerologradouro">
                </mat-form-field>
            </section>

            <section class="bairro-cidade" [ngClass]="{'is-desktop': isDektop}">
                <mat-form-field class="bairro">
                    <mat-label>Bairro</mat-label>
                    <input matInput id="bairro" formControlName="bairro">
                </mat-form-field>
                <mat-form-field class="cidade">
                    <mat-label>Cidade</mat-label>
                    <input matInput id="cidade" formControlName="cidade">
                </mat-form-field>
            </section>

            <section class="estado-cep" [ngClass]="{'is-desktop': isDektop}">
                <mat-form-field class="estado">
                    <mat-label>Estado</mat-label>
                    <input matInput id="estado" formControlName="estado">
                </mat-form-field>
                <mat-form-field class="cep">
                    <mat-label>CEP</mat-label>
                    <input matInput id="cep" formControlName="cep">
                </mat-form-field>
            </section>

            <mat-form-field class="complemento" [ngClass]="{'is-desktop': isDektop}">
                <mat-label>Complemento</mat-label>
                <input matInput id="complemento" formControlName="complemento">
            </mat-form-field>

            @if(isPhonePortrait == true){

            <button type="button" mat-raised-button color="primary" (click)="fileInput.click()" class="input-images" [ngClass]="{'is-desktop': isDektop}">
                <mat-icon>add_a_photo</mat-icon>
            </button>
            <input hidden type="file" #fileInput id="file" class="input-image" accept="image/*" capture="environment" multiple (change)="onFileSelected($event)">                
        
            @if(images.length > 0){
                <div class="container-images" [ngClass]="{'is-desktop': isDektop}">
                    <div class="images" [ngClass]="{'is-desktop': isDektop}">
                        @for (imagem of images; track $index) {
                            <img [src]="imagem.url" alt="Imagem" class="images-image" [ngClass]="{'is-desktop': isDektop}">
                        }
                    </div>
                </div>
                
            }@else{
                <div></div>
            }
        }
        
            <button mat-raised-button color="primary" type="submit" class="submit" [ngClass]="{'is-desktop': isDektop}">Concluir</button>
        </form>
    @if(isDektop == true){
    <div class="vertical-line"></div>
    <div class="container-images-is-desktop">
        <div class="align-to-center">
            <button type="button" mat-icon-button color="primary" (click)="fileInput.click()" class="input-images" [ngClass]="{'is-desktop': isDektop}">
                <mat-icon>add_a_photo</mat-icon>
            </button>
        </div>
            <input hidden type="file" #fileInput id="file" class="input-image" accept="image/*" capture="environment" multiple (change)="onFileSelected($event)">     

                @if(images.length > 0){
                    <div class="container-images">
                        <div class="images" [ngClass]="{'is-desktop': isDektop}">
                            @for (imagem of images; track $index) {
                                <img [src]="imagem.url" alt="Imagem" class="images-image" [ngClass]="{'is-desktop': isDektop}">
                            }
                        </div>
                    </div>
                    
                }@else{
                    <div class="align-to-center">
                        Insira uma Imagem
                    </div>
                    <div class="container-images">
                        <div class="images" [ngClass]="{'is-desktop': isDektop}">
                        </div>
                    </div>
                }
            </div>
        }
</main>